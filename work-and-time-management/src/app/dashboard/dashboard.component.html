<div class="cards">
    <ng-container *ngIf="currentWorksite$ | async as current; else loading">
        <app-card
            (click)="navigate('add-hours', current.id)"
            [name]="current.name"
            [worksite]="current"
            [loader]="false"
        >
        </app-card>
    </ng-container>
    <ng-template #loading>
        <app-card [loader]="true"></app-card>
    </ng-template>
    

    <app-card
        class="card"
        (click)="navigate('worksites')"
        [name]="'Worksites'"
        [icon]="'icon-briefcase'"
    ></app-card>
    <app-card
        class="card"
        (click)="navigate('added-hours')"
        [name]="'Added hours'"
        [icon]="'icon-clock'"
    ></app-card>

    <ng-container
        *ngIf="(user$ | async)?.roles.includes('admin'); else noAdmin"
    >
        <app-card
            class="card"
            (click)="navigate('manage-worksites')"
            [name]="'Manage worksites'"
        ></app-card>
    </ng-container>
    <ng-template #noAdmin>
        <ng-container *ngIf="(user$ | async)?.roles.includes('manager')">
            <app-card
                class="card"
                (click)="navigate('manage-worksites')"
                [name]="'Manage worksites'"
            ></app-card>
        </ng-container>
    </ng-template>

    <ng-container *ngIf="(user$ | async)?.roles.includes('admin')">
        <app-card
            class="card"
            (click)="navigate('manage-worktypes')"
            [name]="'Manage worktypes'"
        ></app-card>
        <app-card
            class="card"
            (click)="navigate('admin/manage-users')"
            [name]="'Manage users'"
            [icon]="'icon-v-card'"
        ></app-card>
        <!-- <div class="card" (click)="navigate('admin/manage-users')">
            <app-card [name]="'Manage users'" [icon]="'icon-v-card'"></app-card>
        </div> -->
        <!-- <div class="card" (click)="navigate('admin-settings')">
      <app-card [name]="'Admin settings'" [icon]="'no-icon'"></app-card>
    </div> -->
    </ng-container>
</div>

<!-- <div class="footer"></div> -->
